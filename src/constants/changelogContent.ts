// Changelog content for different languages

export const CHANGELOG_CONTENT = {
  'zh': `# 📝 更新日志

## v1.7.0 (2025-09-09)
### 🚀 智能进化，体验飞跃！

这是一个里程碑式的重大更新！我们深度聆听您的反馈，对核心功能进行了全面重塑与强化，为您带来更强大、更个性化、更懂您的 Dopamind。

**【全新功能与重大改进】**

• **🚀 专注模式全面升级：**
  - **新增「正计时模式」**：除了经典番茄钟，现在还可以使用正计时进行不设时限的深度专注，完美适配您的心流状态
  - **子任务可视化**：专注模式界面现在会清晰展示当前任务的子任务列表和进度条，目标一目了然

• **🧠 更精细的任务管理掌控：**
  - **子任务编辑与删除**：现在可以对AI分解的每个子任务进行单独编辑和删除，让您的计划更加灵活
  - **实时数据同步**：彻底修复了专注页面与任务详情页之间的数据同步问题，体验无缝衔接

• **🔐 账户系统更完善：**
  - **邮箱重置密码**：忘记密码了？别担心，现在可以通过邮箱轻松重置
  - **时区精准同步**：新增时区设置功能，确保您的任务提醒和截止日期与您所在的当地时间完全一致
  - **促销码系统上线**：敬请期待！我们引入了促销码系统，未来将为您带来更多福利活动

• **✨ 体验优化与细节打磨：**
  - **全新个人资料页**：采用更现代的卡片式布局和折叠菜单，信息更清晰，操作更便捷
  - **冰箱管理批量操作**：新增批量消费功能，让食材管理更加高效
  - **聊天记录日期分隔符**：聊天历史中增加了清晰的日期分隔，回顾对话一目了然
  - 我们还优化了数十个细节，大幅提升了应用的稳定性和流畅度

---

## v1.6.3 (2025-08-31)
### 🚀 体验再进化：更智能的专注力伙伴

• **更懂你的AI鼓励**：在您开始专注前，AI教练现在会结合您的任务内容，给出更具个性化和上下文的鼓励语 (Pep Talk)，为您的每一次专注精准注入动力

• **专注时，目标更清晰**：专注页面现在会清晰展示您当前任务的子任务列表和完成进度条，让您在心流状态中也能随时掌握进展，保持动力

• **更智能的网络连接**：我们重构了网络检测系统，即使在信号不稳定的环境下，也能提供更稳定、更聪明的连接处理，告别不必要的网络错误提示

• **真正属于你的时间**：新建任务时，截止时间现在会精准地匹配您所在的当地时区。无论身在何处，计划都与您同步

• **如丝般顺滑的聊天动画**：聊天输入动画现在无比流畅，让每次对话都感觉更加自然流畅

• **专注时屏幕不再休眠**：番茄专注会话期间，屏幕将保持亮屏状态，帮助您维持专注状态

• **更可靠的聊天历史**：我们彻底重构了聊天历史系统，确保对话记录更加稳定可靠

---

## v1.6.1 (2025-08-23)
### 🌟 智能习惯与体验优化

• **多时段打卡支持**：习惯现在支持一天内多次打卡，更灵活地记录您的进步

• **智能习惯建议**：AI 现在会根据您的行为模式，主动建议最适合的习惯养成策略

• **提醒与习惯同步**：推送提醒现在与您的习惯计划完美同步，不再错过任何重要时刻

• **每日简报优化**：晨间简报现在包含更详细的习惯完成情况和今日重点任务

• **缓存修复**：修复了偶发的缓存问题，确保数据同步更加稳定

• **对话响应提速**：AI 对话响应速度提升 40%，交流更加顺畅

• **通知界面美化**：重新设计了通知提示界面，视觉体验更加舒适

• **Android 屏幕适配**：修复了部分 Android 设备的屏幕显示问题

• **通知可靠性提升**：解决了推送通知偶尔失效的问题

• **网络连接稳定性**：优化了弱网环境下的连接稳定性

---

## v1.6.0 (2025-08-21)
### 📱 多渠道登录与体验升级

• **手机号登录**：新增手机号登录方式，注册登录更便捷

• **短信验证**：集成短信验证码系统，账户安全更有保障

• **国家地区选择**：支持多国家/地区手机号，覆盖更广泛用户

• **账户绑定**：支持邮箱和手机号双重绑定，账户更安全

• **EAS Updates**：集成 Expo EAS Updates，应用更新更及时

• **界面优化**：登录注册界面全面优化，用户体验更流畅

---

## v1.5.15 (2025-08-18)
### 🌏 国际化与功能完善

• **繁体中文支持**：新增繁体中文语言支持，服务更多中文用户

• **时区修复**：修复了时区计算相关的若干问题，时间显示更准确

• **提前完成**：专注会话现在支持提前完成，更灵活的时间管理

• **邮箱验证**：新增邮箱验证功能，账户安全性进一步提升

• **体验打磨**：修复多个细节问题，整体使用体验更加流畅

---

## v1.5.13 (2025-08-10)
### 🎉 首次发布

• **AI 智能伙伴**：基于 Google Gemini 的对话式任务管理，让 AI 成为您的专注教练

• **语音文本输入**：支持语音转文字，快速捕捉灵感和任务

• **任务智能分解**：复雑任务一键分解为可执行的小步骤，告别拖延

• **沉浸专注模式**：25分钟番茄工作法配合 AI 情感支持，深度专注更容易

• **生活全面管理**：任务、习惯、订阅一站式管理，生活井井有条

• **进度可视化**：年度热力图展示您的努力轨迹，成就感满满`,

  'en': `# 📝 Changelog

## v1.7.0 (2025-09-09)
### 🚀 Intelligence Evolution - A Major Experience Leap!

This is a milestone update! We've listened closely to your feedback and have completely reshaped and enhanced our core features to bring you a more powerful, personalized, and intuitive Dopamind.

**【New Features & Major Improvements】**

• **🚀 Complete Focus Mode Overhaul:**
  - **New Stopwatch Mode**: In addition to the classic Pomodoro timer, you can now use a stopwatch for open-ended, uninterrupted deep work sessions, perfectly adapting to your flow state
  - **Subtask Visibility**: The Focus screen now clearly displays your current task's subtask list and progress bar, keeping your goals in sight at all times

• **🧠 Finer Task Management Control:**
  - **Edit & Delete Subtasks**: You can now individually edit and delete each subtask generated by the AI, giving you full flexibility over your plans
  - **Real-Time Data Sync**: We have fixed the data synchronization issues between the Focus and Task Detail pages for a seamless, consistent experience

• **🔐 More Robust Account System:**
  - **Password Reset via Email**: Forgot your password? No worries. You can now easily reset it through your email
  - **Accurate Timezone Support**: A new timezone setting ensures your task reminders and due dates are perfectly aligned with your local time
  - **Promo Code System**: Stay tuned! We've introduced a promo code system to bring you more exciting offers in the future

• **✨ Polished Experience & Details:**
  - **Redesigned Profile Page**: Discover a cleaner, more modern layout with collapsible menus and quick-action cards
  - **Batch Fridge Management**: New batch consumption feature makes food inventory management more efficient
  - **Date Separators in Chat**: Your chat history is now easier to navigate with clear, multilingual date separators
  - Plus, dozens of other details have been optimized to enhance system stability and overall usability

---

## v1.6.3 (2025-08-31)
### 🚀 Enhanced Experience: Smarter Focus Companion

• **More Personalized AI Encouragement**: Before you start focusing, the AI coach now provides more personalized and contextual pep talks based on your task content, precisely injecting motivation for each focus session

• **Clearer Focus Goals**: The focus page now clearly displays your current task's subtask list and progress bar, helping you stay motivated and track progress even in flow state

• **Smarter Network Handling**: We've rebuilt the network detection system to provide more stable and intelligent connection handling even in unstable signal environments, eliminating unnecessary network error prompts

• **True Local Time**: When creating tasks, deadlines now accurately match your local timezone. Your plans stay synchronized wherever you are

• **Silky Smooth Chat Animations**: Chat input animations are now incredibly smooth, making every conversation feel more natural and fluid

• **Screen Stays Awake During Focus**: During pomodoro focus sessions, the screen will stay awake to help you maintain your focus state

• **More Reliable Chat History**: We've completely rebuilt the chat history system to ensure conversation records are more stable and reliable

---

## v1.6.1 (2025-08-23)
### 🌟 Smart Habits & Experience Optimization

• **Multi-time Check-in Support**: Habits now support multiple check-ins per day for more flexible progress tracking

• **Smart Habit Suggestions**: AI now proactively suggests the most suitable habit-forming strategies based on your behavioral patterns

• **Reminder & Habit Sync**: Push reminders now perfectly sync with your habit plans, never miss important moments

• **Daily Briefing Enhancement**: Morning briefings now include more detailed habit completion status and today's key tasks

• **Cache Fixes**: Fixed occasional cache issues to ensure more stable data synchronization

• **Faster Dialog Response**: AI conversation response speed improved by 40% for smoother interactions

• **Notification UI Beautification**: Redesigned notification interface for a more comfortable visual experience

• **Android Screen Adaptation**: Fixed screen display issues on some Android devices

• **Notification Reliability**: Resolved occasional push notification failures

• **Network Connection Stability**: Optimized connection stability in weak network environments

---

## v1.6.0 (2025-08-21)
### 📱 Multi-channel Login & Experience Upgrade

• **Phone Number Login**: Added phone number login method for more convenient registration and login

• **SMS Verification**: Integrated SMS verification code system for better account security

• **Country/Region Selection**: Support for multiple countries/regions phone numbers, covering broader user base

• **Account Binding**: Support dual binding of email and phone number for enhanced account security

• **EAS Updates**: Integrated Expo EAS Updates for more timely app updates

• **Interface Optimization**: Comprehensive optimization of login and registration interface for smoother user experience

---

## v1.5.15 (2025-08-18)
### 🌏 Internationalization & Feature Enhancement

• **Traditional Chinese Support**: Added Traditional Chinese language support to serve more Chinese users

• **Timezone Fixes**: Fixed several timezone calculation issues for more accurate time display

• **Early Completion**: Focus sessions now support early completion for more flexible time management

• **Email Verification**: Added email verification feature to further enhance account security

• **Experience Polish**: Fixed multiple detail issues for smoother overall user experience

---

## v1.5.13 (2025-08-10)
### 🎉 Initial Release

• **AI Smart Companion**: Conversational task management based on Google Gemini, making AI your focus coach

• **Voice & Text Input**: Support voice-to-text for quick capture of inspirations and tasks

• **Smart Task Breakdown**: One-click breakdown of complex tasks into executable steps, goodbye procrastination

• **Immersive Focus Mode**: 25-minute Pomodoro technique with AI emotional support makes deep focus easier

• **Comprehensive Life Management**: One-stop management of tasks, habits, and subscriptions for organized living

• **Progress Visualization**: Annual heatmap displays your effort trajectory with full sense of achievement`,

  'ja': `# 📝 更新履歴

## v1.7.0 (2025-09-09)
### 🚀 インテリジェントな進化、飛躍的な体験向上！

これは画期的なメジャーアップデートです！皆様からのフィードバックを元に、コア機能を全面的に再構築・強化し、よりパワフルで、パーソナライズされた、あなたを理解するDopamindをお届けします。

**【新機能と主な改善点】**

• **🚀 集中モードの全面アップグレード：**
  - **「ストップウォッチモード」の追加**：定番のポモドーロタイマーに加え、時間を気にせず没頭できるストップウォッチモードを追加しました。あなたのフロー状態に完璧にフィットします
  - **サブタスクの可視化**：集中モード画面で、現在のタスクのサブタスクリストと進捗バーが明確に表示されるようになりました。目標が一目瞭然です

• **🧠 より緻密なタスク管理：**
  - **サブタスクの編集と削除**：AIが分解した各サブタスクを個別に編集・削除できるようになり、計画がより柔軟になりました
  - **リアルタイムデータ同期**：集中ページとタスク詳細ページ間のデータ同期問題を完全に修正し、シームレスな体験を実現しました

• **🔐 アカウントシステムの強化：**
  - **メールによるパスワードリセット**：パスワードを忘れても大丈夫。メールで簡単にリセットできるようになりました
  - **正確なタイムゾーン設定**：タイムゾーン設定機能を追加し、タスクの通知と締切があなたの現地時間と完全に一致するようになりました
  - **プロモーションコードシステム**：今後の特典にご期待ください！プロモーションコードシステムを導入しました

• **✨ 体験の最適化と細部の改善：**
  - **新しいプロフィールページ**：よりモダンなカードレイアウトと折りたたみ式メニューを採用し、情報がより見やすく、操作が便利になりました
  - **冷蔵庫管理のバッチ操作**：新しいバッチ消費機能により、食材管理がより効率的になりました
  - **チャット履歴の日付区切り**：チャット履歴に日付の区切り線を追加し、会話の振り返りが簡単になりました
  - その他、数十の細部を最適化し、システムの安定性と利便性を大幅に向上させました

---

## v1.6.3 (2025-08-31)
### 🚀 体験の進化：よりスマートな集中パートナー

• **よりパーソナライズされたAIエンカレッジメント**：集中を始める前に、AIコーチがタスクの内容に基づいて、よりパーソナライズされた文脈的な励ましの言葉を提供し、各集中セッションに的確なモチベーションを注入

• **より明確な集中目標**：集中ページでは、現在のタスクのサブタスクリストと進捗バーが明確に表示され、フロー状態でも進捗を把握してモチベーションを維持

• **よりスマートなネットワーク処理**：ネットワーク検出システムを再構築し、不安定な信号環境でもより安定でインテリジェントな接続処理を提供し、不要なネットワークエラープロンプトを排除

• **真のローカルタイム**：タスク作成時、締切はローカルタイムゾーンに正確に一致。どこにいても計画が同期

• **シルキースムーズなチャットアニメーション**：チャット入力アニメーションが信じられないほど滑らかになり、すべての会話がより自然で流暢に

• **集中中の画面スリープ防止**：ポモドーロ集中セッション中、画面がスリープしないよう維持し、集中状態をサポート

• **より信頼性の高いチャット履歴**：チャット履歴システムを完全に再構築し、会話記録がより安定で信頼性の高いものに

---

## v1.6.1 (2025-08-23)
### 🌟 スマート習慣と体験最適化

• **マルチタイムチェックインサポート**：習慣が1日複数回のチェックインをサポートし、より柔軟な進捗追跡が可能

• **スマート習慣提案**：AIが行動パターンに基づいて、最適な習慣形成戦略を積極的に提案

• **リマインダーと習慣の同期**：プッシュリマインダーが習慣計画と完璧に同期し、重要な瞬間を逃さない

• **日次ブリーフィング強化**：朝のブリーフィングに詳細な習慣完了状況と今日の重要タスクを含める

• **キャッシュ修正**：偶発的なキャッシュ問題を修正し、より安定したデータ同期を確保

• **ダイアログレスポンス高速化**：AI会話レスポンス速度が40%向上し、よりスムーズなインタラクション

• **通知UI美化**：通知インターフェースを再デザインし、より快適な視覚体験を提供

• **Androidスクリーン適応**：一部のAndroidデバイスでの画面表示問題を修正

• **通知信頼性向上**：偶発的なプッシュ通知の失敗を解決

• **ネットワーク接続安定性**：弱いネットワーク環境での接続安定性を最適化

---

## v1.6.0 (2025-08-21)
### 📱 マルチチャネルログインと体験アップグレード

• **電話番号ログイン**：電話番号ログイン方法を追加し、より便利な登録とログインを実現

• **SMS認証**：SMS認証コードシステムを統合し、より良いアカウントセキュリティを提供

• **国/地域選択**：複数の国/地域の電話番号をサポートし、より広範なユーザーベースをカバー

• **アカウントバインディング**：メールと電話番号のデュアルバインディングをサポートし、アカウントセキュリティを強化

• **EAS Updates**：Expo EAS Updatesを統合し、よりタイムリーなアプリアップデートを実現

• **インターフェース最適化**：ログインと登録インターフェースの包括的な最適化により、よりスムーズなユーザー体験を提供

---

## v1.5.15 (2025-08-18)
### 🌏 国際化と機能強化

• **繁体字中国語サポート**：繁体字中国語のサポートを追加し、より多くの中国語ユーザーにサービスを提供

• **タイムゾーン修正**：複数のタイムゾーン計算問題を修正し、より正確な時刻表示を実現

• **早期完了**：集中セッションが早期完了をサポートし、より柔軟な時間管理を可能に

• **メール認証**：メール認証機能を追加し、アカウントセキュリティをさらに向上

• **体験の磨き上げ**：複数の詳細問題を修正し、全体的なユーザー体験をよりスムーズに

---

## v1.5.13 (2025-08-10)
### 🎉 初回リリース

• **AIスマートコンパニオン**：Google Geminiベースの対話型タスク管理により、AIを集中コーチに

• **音声とテキスト入力**：音声からテキストへの変換をサポートし、インスピレーションとタスクを素早くキャプチャ

• **スマートタスク分解**：複雑なタスクをワンクリックで実行可能なステップに分解し、先延ばしとさよなら

• **没入型集中モード**：25分のポモドーロテクニックとAI感情サポートにより、深い集中をより簡単に

• **包括的ライフ管理**：タスク、習慣、サブスクリプションをワンストップで管理し、整理された生活を実現

• **進捗の可視化**：年間ヒートマップが努力の軌跡を表示し、達成感をフルに提供`,

  'zh-TW': `# 📝 更新日誌

## v1.7.0 (2025-09-09)
### 🚀 智能進化，體驗飛躍！

這是一個里程碑式的重大更新！我們深度聆聽您的回饋，對核心功能進行了全面重塑與強化，為您帶來更強大、更個人化、更懂您的 Dopamind。

**【全新功能與重大改進】**

• **🚀 專注模式全面升級：**
  - **新增「正計時模式」**：除了經典番茄鐘，現在還可以使用正計時進行不設時限的深度專注，完美適配您的心流狀態
  - **子任務可視化**：專注模式介面現在會清晰展示當前任務的子任務列表和進度條，目標一目了然

• **🧠 更精細的任務管理掌控：**
  - **子任務編輯與刪除**：現在可以對AI分解的每個子任務進行單獨編輯和刪除，讓您的計劃更加靈活
  - **即時資料同步**：徹底修復了專注頁面與任務詳情頁之間的資料同步問題，體驗無縫銜接

• **🔐 帳戶系統更完善：**
  - **郵箱重設密碼**：忘記密碼了？別擔心，現在可以透過郵箱輕鬆重設
  - **時區精準同步**：新增時區設定功能，確保您的任務提醒和截止日期與您所在的當地時間完全一致
  - **促銷碼系統上線**：敬請期待！我們引入了促銷碼系統，未來將為您帶來更多福利活動

• **✨ 體驗優化與細節打磨：**
  - **全新個人資料頁**：採用更現代的卡片式佈局和折疊選單，資訊更清晰，操作更便捷
  - **冰箱管理批量操作**：新增批量消費功能，讓食材管理更加高效
  - **聊天記錄日期分隔線**：聊天歷史中增加了清晰的日期分隔線，回顧對話一目了然
  - 我們還優化了數十個細節，大幅提升了應用程式的穩定性和流暢度

---

## v1.6.3 (2025-08-31)
### 🚀 體驗再進化：更智能的專注力夥伴

• **更懂你的AI鼓勵**：在您開始專注前，AI教練現在會結合您的任務內容，給出更具個人化和上下文的鼓勵語 (Pep Talk)，為您的每一次專注精準注入動力

• **專注時，目標更清晰**：專注頁面現在會清晰展示您當前任務的子任務列表和完成進度條，讓您在心流狀態中也能隨時掌握進展，保持動力

• **更智能的網路連接**：我們重構了網路檢測系統，即使在信號不穩定的環境下，也能提供更穩定、更聰明的連接處理，告別不必要的網路錯誤提示

• **真正屬於你的時間**：新建任務時，截止時間現在會精準地匹配您所在的當地時區。無論身在何處，計劃都與您同步

• **如絲般順滑的聊天動畫**：聊天輸入動畫現在無比流暢，讓每次對話都感覺更加自然流暢

• **專注時螢幕不再休眠**：番茄專注會話期間，螢幕將保持亮屏狀態，幫助您維持專注狀態

• **更可靠的聊天歷史**：我們徹底重構了聊天歷史系統，確保對話記錄更加穩定可靠

---

## v1.6.1 (2025-08-23)
### 🌟 智能習慣與體驗優化

• **多時段打卡支援**：習慣現在支援一天內多次打卡，更靈活地記錄您的進步

• **智能習慣建議**：AI 現在會根據您的行為模式，主動建議最適合的習慣養成策略

• **提醒與習慣同步**：推送提醒現在與您的習慣計劃完美同步，不再錯過任何重要時刻

• **每日簡報優化**：晨間簡報現在包含更詳細的習慣完成情況和今日重點任務

• **快取修復**：修復了偶發的快取問題，確保資料同步更加穩定

• **對話響應提速**：AI 對話響應速度提升 40%，交流更加順暢

• **通知介面美化**：重新設計了通知提示介面，視覺體驗更加舒適

• **Android 螢幕適配**：修復了部分 Android 設備的螢幕顯示問題

• **通知可靠性提升**：解決了推送通知偶爾失效的問題

• **網路連接穩定性**：優化了弱網環境下的連接穩定性

---

## v1.6.0 (2025-08-21)
### 📱 多渠道登入與體驗升級

• **手機號登入**：新增手機號登入方式，註冊登入更便捷

• **簡訊驗證**：整合簡訊驗證碼系統，帳戶安全更有保障

• **國家地區選擇**：支援多國家/地區手機號，覆蓋更廣泛用戶

• **帳戶綁定**：支援郵箱和手機號雙重綁定，帳戶更安全

• **EAS Updates**：整合 Expo EAS Updates，應用程式更新更及時

• **介面優化**：登入註冊介面全面優化，用戶體驗更流暢

---

## v1.5.15 (2025-08-18)
### 🌏 國際化與功能完善

• **繁體中文支援**：新增繁體中文語言支援，服務更多中文用戶

• **時區修復**：修復了時區計算相關的若干問題，時間顯示更準確

• **提前完成**：專注會話現在支援提前完成，更靈活的時間管理

• **郵箱驗證**：新增郵箱驗證功能，帳戶安全性進一步提升

• **體驗打磨**：修復多個細節問題，整體使用體驗更加流暢

---

## v1.5.13 (2025-08-10)
### 🎉 首次發布

• **AI 智能夥伴**：基於 Google Gemini 的對話式任務管理，讓 AI 成為您的專注教練

• **語音文字輸入**：支援語音轉文字，快速捕捉靈感和任務

• **任務智能分解**：複雜任務一鍵分解為可執行的小步驟，告別拖延

• **沉浸專注模式**：25分鐘番茄工作法配合 AI 情感支援，深度專注更容易

• **生活全面管理**：任務、習慣、訂閱一站式管理，生活井井有條

• **進度可視化**：年度熱力圖展示您的努力軌跡，成就感滿滿`
};

export type SupportedLanguage = keyof typeof CHANGELOG_CONTENT;

export const getChangelogContent = (locale: string): string => {
  const supportedLanguage = (locale as SupportedLanguage) || 'zh';
  return CHANGELOG_CONTENT[supportedLanguage] || CHANGELOG_CONTENT['zh'];
};

// 获取最新版本的 changelog 内容（用于 UpdateModal）
export const getLatestVersionChangelog = (locale: string): string => {
  const fullContent = getChangelogContent(locale);

  // 提取第一个版本部分（最新版本）
  const lines = fullContent.split('\n');
  const result: string[] = [];
  let foundFirstVersion = false;
  let foundSecondVersion = false;

  for (const line of lines) {
    // 跳过文档标题
    if (line.startsWith('# ')) {
      continue;
    }

    // 如果遇到版本号标题
    if (line.startsWith('## v')) {
      if (!foundFirstVersion) {
        foundFirstVersion = true;
        result.push(line);
      } else {
        // 遇到第二个版本，停止
        foundSecondVersion = true;
        break;
      }
    } else if (foundFirstVersion && !foundSecondVersion) {
      result.push(line);
    }
  }

  // 移除末尾的分隔符
  while (result.length > 0 && (result[result.length - 1].trim() === '' || result[result.length - 1].trim() === '---')) {
    result.pop();
  }

  return result.join('\n').trim();
};